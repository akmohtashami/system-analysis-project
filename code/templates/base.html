{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}" {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>
    <head>
        <meta charset="UTF-8">
        <title>ProxyPay</title>
        <script src="{% static 'jquery/jquery-3.3.1.min.js' %}"></script>
        {% if LANGUAGE_BIDI %}
            <link rel="stylesheet" href="{% static 'semanticui/semantic.rtl.css' %}" type="text/css">
        {% else %}
            <link rel="stylesheet" href="{% static 'semanticui/semantic.min.css' %}" type="text/css">
        {% endif %}
        <link rel="stylesheet" href="{% static 'currency-flags.css' %}" type="text/css">
        <script src="{% static 'semanticui/semantic.min.js' %}"></script>
        <link rel="stylesheet" href="{% static 'style.css' %}" type="text/css">
    </head>
    <body {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>

        <div class="ui borderless menu">
            {% if request.user.is_authenticated %}
                <a class="item" href="{% url 'wallet:wallets' %}"> {{ request.user.name }}</a>
                <a class="item" href="{% url 'users:logout' %}">{% trans 'Logout' %}</a>
                <div class="borderless menu">
                    {% for wallet in request.user.wallets.all %}
                        <div class="item">
                            <i class="currency-flag currency-flag-{{wallet.currency.icon}}"></i>&nbsp;
                            {{ wallet.credit }}
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <a class="item" href="{% url 'index' %}">{% trans 'Home' %}</a>
                <a class="item" href="{% url 'users:login' %}">{% trans 'Login' %}</a>
                <a class="item" href="{% url 'users:register' %}">{% trans 'Register' %}</a>
            {% endif %}
            <div class="right menu">
                <div class="header item">ProxyPay</div>
            </div>
        </div>

        <div class="ui basic segment">
            <div class="ui container">
                {% for message in messages %}
                    <div class="ui {{ message.tags }} message">
                    {{ message }}
                    </div>
                {% endfor %}
                {% block content %}
                {% endblock %}
            </div>
        </div>
        <script>
            $('.message .close')
              .on('click', function() {
                $(this)
                  .closest('.message')
                  .transition('fade')
                ;
              })
            ;
        </script>
    </body>
</html>
